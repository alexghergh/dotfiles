# -U stands for unique (don't allow duplicates)
# remove duplicates in both PATH and path
# they are both synced anyway
typeset -U PATH path

# remove duplicates in both FPATH and fpath
# they are both synced anyway
typeset -U FPATH fpath

# some basic setup
export EDITOR=nvim
export VISUAL=nvim
export BROWSER=firefox
export PAGER=less

# set the xdg base directories specification
# (https://specifications.freedesktop.org/basedir-spec/latest/ar01s03.html)
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-"$HOME/.config"}"
export XDG_DATA_HOME="${XDG_DATA_HOME:-"$HOME/.local/share"}"
export XDG_CACHE_HOME="${XDG_CACHE_HOME:-"$HOME/.cache"}"
export XDG_STATE_HOME="${XDG_STATE_HOME:-"$HOME/.local/state"}"

export XDG_DATA_DIRS="${XDG_DATA_DIRS:-"/usr/local/share/:/usr/share/"}"
export XDG_CONFIG_DIRS="${XDG_CONFIG_DIRS:-"/etc/xdg"}"

# set the word chars that SHOULD also be considered as part of a word the
# characters that are not in here from the default WORDCHARS are '/', '.' and
# '-'
export WORDCHARS="*?_[]~=&;!#$%^(){}<>"

# increase history size for both session history (shell-local history) and file
# history (global history); we're living in 2022
export HISTSIZE=50000
export SAVEHIST=50000

# history file
export HISTFILE="$HOME/.zsh_history"

# use a directory history stack of 8 directories
export DIRSTACKSIZE=8

# prompt theme to use
export PROMPT_THEME="pastel_night"

# set python3 host program for neovim, needed for working inside virtual
# environments; default to system's python3
# PYENV_PYTHON_VERSION should be set by the pyenv settings file
if [ -e /home/alex/.pyenv/versions/"${PYENV_PYTHON_VERSION:-not_exist}"/bin/python ]; then
    export VIM_PYTHON3_HOST_PROG="${HOME}/.pyenv/versions/${PYENV_PYTHON_VERSION}/bin/python"
else
    export VIM_PYTHON3_HOST_PROG="$(command -v python3)"
fi

# set biber path
# TODO just a hack to work on arch
export PATH="$PATH:/usr/bin/vendor_perl"

# japanese ime
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
export GLFW_IM_MODULE=ibus
export XIM_PROGRAM=fcitx
export XIM=fcitx
